<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Municipality Approval Fee Calculator</title>
    <style>
        :root {
            --primary-color: #3498db;
            --primary-dark: #2980b9;
            --secondary-color: #2c3e50;
            --light-color: #ecf0f1;
            --dark-color: #333;
            --success-color: #27ae60;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark-color);
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        h1 {
            color: var(--secondary-color);
            text-align: center;
            margin: 20px 0 30px;
            font-size: 2.2rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .calculator {
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--secondary-color);
        }
        
        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        input[type="number"]:focus {
            border-color: var(--primary-color);
            outline: none;
        }
        
        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 18px;
            width: 100%;
            margin-top: 15px;
            font-weight: 600;
            transition: background-color 0.3s, transform 0.2s;
        }
        
        button:hover {
            background-color: var(--primary-dark);
        }
        
        button:active {
            transform: scale(0.98);
        }
        
        .result {
            margin-top: 25px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            display: none;
            border-left: 5px solid var(--primary-color);
        }
        
        .result h3 {
            margin-top: 0;
            color: var(--secondary-color);
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        .floor-details, .other-fees {
            margin-top: 15px;
        }
        
        .floor-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .total-row {
            font-weight: bold;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid var(--secondary-color);
            font-size: 1.1rem;
        }
        
        .note {
            font-size: 0.95rem;
            color: #555;
            margin-top: 30px;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .note strong {
            color: var(--secondary-color);
        }
        
        .note ul {
            margin-top: 10px;
            padding-left: 20px;
        }
        
        .note li {
            margin-bottom: 5px;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.8rem;
                margin: 10px 0 20px;
            }
            
            .calculator {
                padding: 20px;
            }
            
            input[type="number"] {
                padding: 10px;
            }
            
            button {
                padding: 12px;
                font-size: 16px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.5rem;
            }
            
            .calculator {
                padding: 15px;
            }
            
            .result {
                padding: 15px;
            }
            
            .floor-row, .total-row {
                flex-direction: column;
            }
            
            .floor-row span:last-child {
                margin-top: 5px;
                text-align: right;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Municipality Approval Fee Calculator</h1>
        
        <div class="calculator">
            <div class="form-group">
                <label for="floors">Number of Floors:</label>
                <input type="number" id="floors" min="1" max="6" value="1">
            </div>
            
            <div id="floor-inputs">
                <!-- Floor inputs will be generated here -->
            </div>
            
            <button id="calculate-btn">Calculate Approval Fees</button>
            
            <div class="result" id="result">
                <h3>Approval Fee Breakdown</h3>
                <div id="floor-details" class="floor-details">
                    <!-- Floor details will be shown here -->
                </div>
                <div id="other-fees" class="other-fees">
                    <!-- Other fees will be shown here -->
                </div>
                <div class="total-row" id="total-fee">
                    <!-- Total fee will be shown here -->
                </div>
            </div>
        </div>
        
        <div class="note">
            <p><strong>Note:</strong> The calculation is based on the following rates:</p>
            <ul>
                <li>1st & 2nd floor: First 500 sqft = 700 TK, Additional sqft = 1.5 TK/sqft</li>
                <li>3rd & 4th floor: First 500 sqft = 1100 TK, Additional sqft = 2 TK/sqft</li>
                <li>5th & 6th floor: First 500 sqft = 1500 TK, Additional sqft = 3 TK/sqft</li>
                <li>25% VAT on construction fees</li>
                <li>Application form: 1000 TK</li>
                <li>Other fund: 10000 TK</li>
            </ul>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const floorsInput = document.getElementById('floors');
            const floorInputsContainer = document.getElementById('floor-inputs');
            const calculateBtn = document.getElementById('calculate-btn');
            const resultDiv = document.getElementById('result');
            const floorDetailsDiv = document.getElementById('floor-details');
            const otherFeesDiv = document.getElementById('other-fees');
            const totalFeeDiv = document.getElementById('total-fee');
            
            // Generate floor area inputs based on number of floors
            floorsInput.addEventListener('input', generateFloorInputs);
            
            // Calculate fees when button is clicked
            calculateBtn.addEventListener('click', calculateFees);
            
            // Generate initial floor inputs
            generateFloorInputs();
            
            function generateFloorInputs() {
                const numFloors = parseInt(floorsInput.value);
                floorInputsContainer.innerHTML = '';
                
                for (let i = 1; i <= numFloors; i++) {
                    const floorDiv = document.createElement('div');
                    floorDiv.className = 'form-group';
                    
                    const label = document.createElement('label');
                    label.textContent = `Floor ${i} Area (sqft):`;
                    
                    const input = document.createElement('input');
                    input.type = 'number';
                    input.id = `floor-${i}`;
                    input.min = '1';
                    input.value = '500';
                    input.required = true;
                    
                    floorDiv.appendChild(label);
                    floorDiv.appendChild(input);
                    floorInputsContainer.appendChild(floorDiv);
                }
            }
            
            function calculateFees() {
                const numFloors = parseInt(floorsInput.value);
                let totalConstructionFee = 0;
                let floorDetailsHTML = '';
                
                // Calculate construction fees for each floor
                for (let i = 1; i <= numFloors; i++) {
                    const area = parseFloat(document.getElementById(`floor-${i}`).value);
                    let floorFee = 0;
                    let rateInfo = '';
                    
                    if (i <= 2) {
                        // 1st & 2nd floor rates
                        if (area <= 500) {
                            floorFee = 700;
                            rateInfo = 'First 500 sqft @ 700 TK';
                        } else {
                            floorFee = 700 + (area - 500) * 1.5;
                            rateInfo = `First 500 sqft @ 700 TK + ${area - 500} sqft @ 1.5 TK/sqft`;
                        }
                    } else if (i <= 4) {
                        // 3rd & 4th floor rates
                        if (area <= 500) {
                            floorFee = 1100;
                            rateInfo = 'First 500 sqft @ 1100 TK';
                        } else {
                            floorFee = 1100 + (area - 500) * 2;
                            rateInfo = `First 500 sqft @ 1100 TK + ${area - 500} sqft @ 2 TK/sqft`;
                        }
                    } else {
                        // 5th & 6th floor rates
                        if (area <= 500) {
                            floorFee = 1500;
                            rateInfo = 'First 500 sqft @ 1500 TK';
                        } else {
                            floorFee = 1500 + (area - 500) * 3;
                            rateInfo = `First 500 sqft @ 1500 TK + ${area - 500} sqft @ 3 TK/sqft`;
                        }
                    }
                    
                    totalConstructionFee += floorFee;
                    
                    floorDetailsHTML += `
                        <div class="floor-row">
                            <span>Floor ${i} (${area} sqft):</span>
                            <span>${floorFee.toFixed(2)} TK (${rateInfo})</span>
                        </div>
                    `;
                }
                
                // Calculate other fees
                const vat = totalConstructionFee * 0.25;
                const applicationFormFee = 1000;
                const otherFund = 10000;
                const totalFee = totalConstructionFee + vat + applicationFormFee + otherFund;
                
                // Display results
                floorDetailsDiv.innerHTML = floorDetailsHTML;
                
                otherFeesDiv.innerHTML = `
                    <div class="floor-row">
                        <span>Total Construction Fee:</span>
                        <span>${totalConstructionFee.toFixed(2)} TK</span>
                    </div>
                    <div class="floor-row">
                        <span>VAT (25%):</span>
                        <span>${vat.toFixed(2)} TK</span>
                    </div>
                    <div class="floor-row">
                        <span>Application Form Fee:</span>
                        <span>${applicationFormFee.toFixed(2)} TK</span>
                    </div>
                    <div class="floor-row">
                        <span>Other Fund:</span>
                        <span>${otherFund.toFixed(2)} TK</span>
                    </div>
                `;
                
                totalFeeDiv.innerHTML = `
                    <span>Total Approval Fee:</span>
                    <span><strong>${totalFee.toFixed(2)} TK</strong></span>
                `;
                
                resultDiv.style.display = 'block';
                
                // Smooth scroll to results
                resultDiv.scrollIntoView({ behavior: 'smooth' });
            }
        });
    </script>
</body>
</html>